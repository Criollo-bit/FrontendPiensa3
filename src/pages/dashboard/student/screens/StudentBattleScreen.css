/* --- CONTENEDOR RAIZ --- */
.sb-app-container {
    width: 100vw;
    height: 100vh;
    background-color: #46178F; /* Fondo base Kahoot */
    overflow: hidden;
    display: flex;
    flex-direction: column;
    font-family: 'Inter', sans-serif;
    object-fit: contain;
}

/* --- LOBBY (WAITING) --- */
.sb-lobby-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: #f8fafc;
    padding: 20px;
}

.sb-back-btn {
    position: absolute; top: 20px; left: 20px;
    background: #e2e8f0; border: none; padding: 8px 16px;
    border-radius: 8px; font-weight: 600;
}

.sb-avatar-box {
    width: 120px; height: 120px;
    border-radius: 50%; border: 4px solid white;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    background: #46178f; color: white;
    display: flex; align-items: center; justify-content: center;
    font-size: 2.5rem; font-weight: 900; overflow: hidden;
    margin-bottom: 20px;
}
.sb-avatar-box img { width: 100%; height: 100%; object-fit: contain; border-radius: 50%; }

.sb-welcome-text { color: #1e293b; font-size: 1.8rem; font-weight: 800; margin-bottom: 20px; }

.sb-room-card {
    background: white; padding: 25px; border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: center; width: 80%;
}
.sb-card-label { font-size: 0.8rem; font-weight: 700; color: #64748b; }
.sb-card-number { font-size: 3.5rem; color: #0ea5e9; margin: 0; font-weight: 900; }

.sb-waiting-footer { margin-top: 30px; color: #64748b; font-weight: 600; }

/* --- LAYOUT DEL JUEGO (QUESTION) --- */
.sb-quiz-layout {
    flex: 1;
    display: flex;
    flex-direction: column;
    /* Respeta el Navbar inferior */
    padding: 20px 20px calc(110px + env(safe-area-inset-bottom)) 20px;
}

.sb-quiz-header {
    display: flex; align-items: center; justify-content: space-between;
    color: white; font-weight: 800; margin-bottom: 15px;
}
.sb-progress-bar {
    flex: 1; height: 12px; background: rgba(255,255,255,0.2);
    border-radius: 10px; margin-right: 15px; overflow: hidden;
}
.sb-progress-bar div { height: 100%; background: #ffa602; transition: width 0.3s; }

.sb-question-box {
    background: white; border-radius: 15px; padding: 20px;
    min-height: 120px; display: flex; align-items: center; justify-content: center;
    box-shadow: 0 6px 0 rgba(0,0,0,0.2); margin-bottom: 20px;
}
.sb-question-box h1 { color: #1e293b; font-size: 1.4rem; font-weight: 800; text-align: center; margin: 0; }

.sb-quiz-grid {
    display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr;
    gap: 12px; flex: 1;
}

/* --- BOTONES DE RESPUESTA --- */
.sb-quiz-btn {
    border: none; border-radius: 12px; padding: 15px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    box-shadow: 0 6px 0 rgba(0,0,0,0.2); transition: transform 0.1s;
}
.sb-quiz-btn:active { transform: translateY(4px); box-shadow: none; }

.k-red { background-color: #e21b3c !important; }
.k-blue { background-color: #1368ce !important; }
.k-yellow { background-color: #d89e00 !important; }
.k-green { background-color: #26890c !important; }

.sb-btn-icon { font-size: 2.8rem; color: white; margin-bottom: 5px; }
.sb-btn-text { color: white; font-weight: 700; font-size: 1.1rem; text-align: center; }

/* --- FEEDBACK (CORRECTO/ERROR) --- */
.sb-feedback-screen {
    position: fixed; inset: 0; z-index: 9999;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
}
.sb-feedback-screen.is-correct { background-color: #166534; }
.sb-feedback-screen.is-wrong { background-color: #991b1b; }

.sb-feedback-content { text-align: center; color: white; }
.sb-feedback-content img { width: 140px; height: 140px; margin-bottom: 20px; }
.sb-feedback-content img{ width: 150px; height: 150px; margin-bottom: 20px; }
.sb-feedback-content h1 { font-size: 3rem; font-weight: 900; margin-bottom: 20px; }

.sb-points-badge {
    background: rgba(0,0,0,0.2); padding: 15px 40px; border-radius: 15px;
    display: flex; flex-direction: column;
}
.sb-points-badge small { font-weight: 800; opacity: 0.8; }
.sb-points-badge strong { font-size: 2.5rem; }

.sb-feedback-timer { position: absolute; bottom: 0; left: 0; width: 100%; height: 12px; background: rgba(0,0,0,0.2); }
.sb-timer-fill { height: 100%; background: white; width: 100%; animation: shrink 8s linear forwards; }

/* --- BLOQUEO (LOCKED) --- */
.sb-locked-screen {
    flex: 1; display: flex; flex-direction: column; align-items: center;
    justify-content: center; color: white; background: #46178f;
}
.sb-locked-icon { font-size: 5rem; margin-bottom: 20px; }
.sb-status-pill { background: rgba(255,255,255,0.2); padding: 10px 25px; border-radius: 50px; font-weight: 700; }

/* --- TRANSICIONES --- */
.transition-overlay {
    position: fixed; inset: 0; background: #46178f; z-index: 10000;
    display: flex; flex-direction: column; align-items: center; justify-content: center; color: white;
}
.transition-circle-outer { width: 150px; height: 150px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
.transition-circle-inner { width: 120px; height: 120px; background: #ffa602; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 3rem; font-weight: 900; }
.transition-text { margin-top: 20px; font-size: 2rem; font-weight: 800; }

/* --- ANIMACIONES --- */
@keyframes shrink { from { width: 100%; } to { width: 0%; } }
.pulse-animation { animation: pulse 2s infinite; }
@keyframes pulse { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.1); opacity: 1; } }

.pop-animation { animation: pop 0.5s cubic-bezier(0.17, 0.89, 0.32, 1.49); }
@keyframes pop { from { transform: scale(0); } to { transform: scale(1); } }

.shake-animation { animation: shake 0.5s; }
@keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }